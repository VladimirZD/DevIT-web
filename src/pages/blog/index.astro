---
import { getCollection } from 'astro:content';
import Base from '../../layouts/Base.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import PostCard from '../../components/PostCard.astro';
const posts = (await getCollection('blog')).sort((a, b) => new Date(b.data.date) - new Date(a.data.date));
---
<Base title="Blog â€” DevIT">
  <Header />
  <main class="container">
    <h1>Blog</h1>
    <p class="muted">All posts</p>
    <section style="margin-top:16px">
      {posts.length === 0 ? <p>No posts yet.</p> : (
        <div class="grid">
          {posts.map((p) => <PostCard post={p} />)}
        </div>
      )}
    </section>
  </main>
  <Footer />
</Base>
